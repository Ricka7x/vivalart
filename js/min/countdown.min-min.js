!function($){var e="countdown",t=0,i=1,s=2,n=3,o=4,a=5,r=6;$.JQPlugin.createPlugin({name:e,defaultOptions:{until:null,since:null,timezone:null,serverSync:null,format:"dHMS",layout:"",compact:!1,padZeroes:!1,significant:0,description:"",expiryUrl:"",expiryText:"",alwaysExpire:!1,onExpiry:null,onTick:null,tickInterval:1},regionalOptions:{"":{labels:["Years","Months","Weeks","Days","Hours","Minutes","Seconds"],labels1:["Year","Month","Week","Day","Hour","Minute","Second"],compactLabels:["y","m","w","d"],whichLabels:null,digits:["0","1","2","3","4","5","6","7","8","9"],timeSeparator:":",isRTL:!1}},_getters:["getTimes"],_rtlClass:e+"-rtl",_sectionClass:e+"-section",_amountClass:e+"-amount",_periodClass:e+"-period",_rowClass:e+"-row",_holdingClass:e+"-holding",_showClass:e+"-show",_descrClass:e+"-descr",_timerElems:[],_init:function(){function e(a){var r=1e12>a?s?performance.now()+performance.timing.navigationStart:i():a||i();r-o>=1e3&&(t._updateElems(),o=r),n(e)}var t=this;this._super(),this._serverSyncs=[];var i="function"==typeof Date.now?Date.now:function(){return(new Date).getTime()},s=window.performance&&"function"==typeof window.performance.now,n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||null,o=0;!n||$.noRequestAnimationFrame?($.noRequestAnimationFrame=null,setInterval(function(){t._updateElems()},980)):(o=window.animationStartTime||window.webkitAnimationStartTime||window.mozAnimationStartTime||window.oAnimationStartTime||window.msAnimationStartTime||i(),n(e))},UTCDate:function(e,t,i,s,n,o,a,r){"object"==typeof t&&t.constructor==Date&&(r=t.getMilliseconds(),a=t.getSeconds(),o=t.getMinutes(),n=t.getHours(),s=t.getDate(),i=t.getMonth(),t=t.getFullYear());var l=new Date;return l.setUTCFullYear(t),l.setUTCDate(1),l.setUTCMonth(i||0),l.setUTCDate(s||1),l.setUTCHours(n||0),l.setUTCMinutes((o||0)-(Math.abs(e)<30?60*e:e)),l.setUTCSeconds(a||0),l.setUTCMilliseconds(r||0),l},periodsToSeconds:function(e){return 31557600*e[0]+2629800*e[1]+604800*e[2]+86400*e[3]+3600*e[4]+60*e[5]+e[6]},_instSettings:function(e,t){return{_periods:[0,0,0,0,0,0,0]}},_addElem:function(e){this._hasElem(e)||this._timerElems.push(e)},_hasElem:function(e){return $.inArray(e,this._timerElems)>-1},_removeElem:function(e){this._timerElems=$.map(this._timerElems,function(t){return t==e?null:t})},_updateElems:function(){for(var e=this._timerElems.length-1;e>=0;e--)this._updateCountdown(this._timerElems[e])},_optionsChanged:function(e,t,i){i.layout&&(i.layout=i.layout.replace(/&lt;/g,"<").replace(/&gt;/g,">")),this._resetExtraLabels(t.options,i);var s=t.options.timezone!=i.timezone;$.extend(t.options,i),this._adjustSettings(e,t,null!=i.until||null!=i.since||s);var n=new Date;(t._since&&t._since<n||t._until&&t._until>n)&&this._addElem(e[0]),this._updateCountdown(e,t)},_updateCountdown:function(e,t){if(e=e.jquery?e:$(e),t=t||this._getInst(e)){if(e.html(this._generateHTML(t)).toggleClass(this._rtlClass,t.options.isRTL),$.isFunction(t.options.onTick)){var i="lap"!=t._hold?t._periods:this._calculatePeriods(t,t._show,t.options.significant,new Date);(1==t.options.tickInterval||this.periodsToSeconds(i)%t.options.tickInterval==0)&&t.options.onTick.apply(e[0],[i])}var s="pause"!=t._hold&&(t._since?t._now.getTime()<t._since.getTime():t._now.getTime()>=t._until.getTime());if(s&&!t._expiring){if(t._expiring=!0,this._hasElem(e[0])||t.options.alwaysExpire){if(this._removeElem(e[0]),$.isFunction(t.options.onExpiry)&&t.options.onExpiry.apply(e[0],[]),t.options.expiryText){var n=t.options.layout;t.options.layout=t.options.expiryText,this._updateCountdown(e[0],t),t.options.layout=n}t.options.expiryUrl&&(window.location=t.options.expiryUrl)}t._expiring=!1}else"pause"==t._hold&&this._removeElem(e[0])}},_resetExtraLabels:function(e,t){for(var i in t)i.match(/[Ll]abels[02-9]|compactLabels1/)&&(e[i]=t[i]);for(var i in e)i.match(/[Ll]abels[02-9]|compactLabels1/)&&"undefined"==typeof t[i]&&(e[i]=null)},_adjustSettings:function(e,t,i){for(var s,n=0,o=null,a=0;a<this._serverSyncs.length;a++)if(this._serverSyncs[a][0]==t.options.serverSync){o=this._serverSyncs[a][1];break}if(null!=o)n=t.options.serverSync?o:0,s=new Date;else{var r=$.isFunction(t.options.serverSync)?t.options.serverSync.apply(e[0],[]):null;s=new Date,n=r?s.getTime()-r.getTime():0,this._serverSyncs.push([t.options.serverSync,n])}var l=t.options.timezone;l=null==l?-s.getTimezoneOffset():l,(i||!i&&null==t._until&&null==t._since)&&(t._since=t.options.since,null!=t._since&&(t._since=this.UTCDate(l,this._determineTime(t._since,null)),t._since&&n&&t._since.setMilliseconds(t._since.getMilliseconds()+n)),t._until=this.UTCDate(l,this._determineTime(t.options.until,s)),n&&t._until.setMilliseconds(t._until.getMilliseconds()+n)),t._show=this._determineShow(t)},_preDestroy:function(e,t){this._removeElem(e[0]),e.empty()},pause:function(e){this._hold(e,"pause")},lap:function(e){this._hold(e,"lap")},resume:function(e){this._hold(e,null)},toggle:function(e){var t=$.data(e,this.name)||{};this[t._hold?"resume":"pause"](e)},toggleLap:function(e){var t=$.data(e,this.name)||{};this[t._hold?"resume":"lap"](e)},_hold:function(e,t){var i=$.data(e,this.name);if(i){if("pause"==i._hold&&!t){i._periods=i._savePeriods;var s=i._since?"-":"+";i[i._since?"_since":"_until"]=this._determineTime(s+i._periods[0]+"y"+s+i._periods[1]+"o"+s+i._periods[2]+"w"+s+i._periods[3]+"d"+s+i._periods[4]+"h"+s+i._periods[5]+"m"+s+i._periods[6]+"s"),this._addElem(e)}i._hold=t,i._savePeriods="pause"==t?i._periods:null,$.data(e,this.name,i),this._updateCountdown(e,i)}},getTimes:function(e){var t=$.data(e,this.name);return t?"pause"==t._hold?t._savePeriods:t._hold?this._calculatePeriods(t,t._show,t.options.significant,new Date):t._periods:null},_determineTime:function(e,t){var i=this,s=function(e){var t=new Date;return t.setTime(t.getTime()+1e3*e),t},n=function(e){e=e.toLowerCase();for(var t=new Date,s=t.getFullYear(),n=t.getMonth(),o=t.getDate(),a=t.getHours(),r=t.getMinutes(),l=t.getSeconds(),_=/([+-]?[0-9]+)\s*(s|m|h|d|w|o|y)?/g,p=_.exec(e);p;){switch(p[2]||"s"){case"s":l+=parseInt(p[1],10);break;case"m":r+=parseInt(p[1],10);break;case"h":a+=parseInt(p[1],10);break;case"d":o+=parseInt(p[1],10);break;case"w":o+=7*parseInt(p[1],10);break;case"o":n+=parseInt(p[1],10),o=Math.min(o,i._getDaysInMonth(s,n));break;case"y":s+=parseInt(p[1],10),o=Math.min(o,i._getDaysInMonth(s,n))}p=_.exec(e)}return new Date(s,n,o,a,r,l,0)},o=null==e?t:"string"==typeof e?n(e):"number"==typeof e?s(e):e;return o&&o.setMilliseconds(0),o},_getDaysInMonth:function(e,t){return 32-new Date(e,t,32).getDate()},_normalLabels:function(e){return e},_generateHTML:function(e){var l=this;e._periods=e._hold?e._periods:this._calculatePeriods(e,e._show,e.options.significant,new Date);for(var _=!1,p=0,u=e.options.significant,c=$.extend({},e._show),d=t;r>=d;d++)_|="?"==e._show[d]&&e._periods[d]>0,c[d]="?"!=e._show[d]||_?e._show[d]:null,p+=c[d]?1:0,u-=e._periods[d]>0?1:0;for(var h=[!1,!1,!1,!1,!1,!1,!1],d=r;d>=t;d--)e._show[d]&&(e._periods[d]?h[d]=!0:(h[d]=u>0,u--));var m=e.options.compact?e.options.compactLabels:e.options.labels,g=e.options.whichLabels||this._normalLabels,w=function(t){var i=e.options["compactLabels"+g(e._periods[t])];return c[t]?l._translateDigits(e,e._periods[t])+(i?i[t]:m[t])+" ":""},f=e.options.padZeroes?2:1,D=function(t){var i=e.options["labels"+g(e._periods[t])];return!e.options.significant&&c[t]||e.options.significant&&h[t]?'<span class="'+l._sectionClass+'"><span class="'+l._amountClass+'">'+l._minDigits(e,e._periods[t],f)+'</span><span class="'+l._periodClass+'">'+(i?i[t]:m[t])+"</span></span>":""};return e.options.layout?this._buildLayout(e,c,e.options.layout,e.options.compact,e.options.significant,h):(e.options.compact?'<span class="'+this._rowClass+" "+this._amountClass+(e._hold?" "+this._holdingClass:"")+'">'+w(t)+w(i)+w(s)+w(n)+(c[o]?this._minDigits(e,e._periods[o],2):"")+(c[a]?(c[o]?e.options.timeSeparator:"")+this._minDigits(e,e._periods[a],2):"")+(c[r]?(c[o]||c[a]?e.options.timeSeparator:"")+this._minDigits(e,e._periods[r],2):""):'<span class="'+this._rowClass+" "+this._showClass+(e.options.significant||p)+(e._hold?" "+this._holdingClass:"")+'">'+D(t)+D(i)+D(s)+D(n)+D(o)+D(a)+D(r))+"</span>"+(e.options.description?'<span class="'+this._rowClass+" "+this._descrClass+'">'+e.options.description+"</span>":"")},_buildLayout:function(e,l,_,p,u,c){for(var d=e.options[p?"compactLabels":"labels"],h=e.options.whichLabels||this._normalLabels,m=function(t){return(e.options[(p?"compactLabels":"labels")+h(e._periods[t])]||d)[t]},g=function(t,i){return e.options.digits[Math.floor(t/i)%10]},w={desc:e.options.description,sep:e.options.timeSeparator,yl:m(t),yn:this._minDigits(e,e._periods[t],1),ynn:this._minDigits(e,e._periods[t],2),ynnn:this._minDigits(e,e._periods[t],3),y1:g(e._periods[t],1),y10:g(e._periods[t],10),y100:g(e._periods[t],100),y1000:g(e._periods[t],1e3),ol:m(i),on:this._minDigits(e,e._periods[i],1),onn:this._minDigits(e,e._periods[i],2),onnn:this._minDigits(e,e._periods[i],3),o1:g(e._periods[i],1),o10:g(e._periods[i],10),o100:g(e._periods[i],100),o1000:g(e._periods[i],1e3),wl:m(s),wn:this._minDigits(e,e._periods[s],1),wnn:this._minDigits(e,e._periods[s],2),wnnn:this._minDigits(e,e._periods[s],3),w1:g(e._periods[s],1),w10:g(e._periods[s],10),w100:g(e._periods[s],100),w1000:g(e._periods[s],1e3),dl:m(n),dn:this._minDigits(e,e._periods[n],1),dnn:this._minDigits(e,e._periods[n],2),dnnn:this._minDigits(e,e._periods[n],3),d1:g(e._periods[n],1),d10:g(e._periods[n],10),d100:g(e._periods[n],100),d1000:g(e._periods[n],1e3),hl:m(o),hn:this._minDigits(e,e._periods[o],1),hnn:this._minDigits(e,e._periods[o],2),hnnn:this._minDigits(e,e._periods[o],3),h1:g(e._periods[o],1),h10:g(e._periods[o],10),h100:g(e._periods[o],100),h1000:g(e._periods[o],1e3),ml:m(a),mn:this._minDigits(e,e._periods[a],1),mnn:this._minDigits(e,e._periods[a],2),mnnn:this._minDigits(e,e._periods[a],3),m1:g(e._periods[a],1),m10:g(e._periods[a],10),m100:g(e._periods[a],100),m1000:g(e._periods[a],1e3),sl:m(r),sn:this._minDigits(e,e._periods[r],1),snn:this._minDigits(e,e._periods[r],2),snnn:this._minDigits(e,e._periods[r],3),s1:g(e._periods[r],1),s10:g(e._periods[r],10),s100:g(e._periods[r],100),s1000:g(e._periods[r],1e3)},f=_,D=t;r>=D;D++){var y="yowdhms".charAt(D),v=new RegExp("\\{"+y+"<\\}([\\s\\S]*)\\{"+y+">\\}","g");f=f.replace(v,!u&&l[D]||u&&c[D]?"$1":"")}return $.each(w,function(e,t){var i=new RegExp("\\{"+e+"\\}","g");f=f.replace(i,t)}),f},_minDigits:function(e,t,i){return t=""+t,t.length>=i?this._translateDigits(e,t):(t="0000000000"+t,this._translateDigits(e,t.substr(t.length-i)))},_translateDigits:function(e,t){return(""+t).replace(/[0-9]/g,function(t){return e.options.digits[t]})},_determineShow:function(e){var l=e.options.format,_=[];return _[t]=l.match("y")?"?":l.match("Y")?"!":null,_[i]=l.match("o")?"?":l.match("O")?"!":null,_[s]=l.match("w")?"?":l.match("W")?"!":null,_[n]=l.match("d")?"?":l.match("D")?"!":null,_[o]=l.match("h")?"?":l.match("H")?"!":null,_[a]=l.match("m")?"?":l.match("M")?"!":null,_[r]=l.match("s")?"?":l.match("S")?"!":null,_},_calculatePeriods:function(e,l,_,p){e._now=p,e._now.setMilliseconds(0);var u=new Date(e._now.getTime());e._since?p.getTime()<e._since.getTime()?e._now=p=u:p=e._since:(u.setTime(e._until.getTime()),p.getTime()>e._until.getTime()&&(e._now=p=u));var c=[0,0,0,0,0,0,0];if(l[t]||l[i]){var d=this._getDaysInMonth(p.getFullYear(),p.getMonth()),h=this._getDaysInMonth(u.getFullYear(),u.getMonth()),m=u.getDate()==p.getDate()||u.getDate()>=Math.min(d,h)&&p.getDate()>=Math.min(d,h),g=function(e){return 60*(60*e.getHours()+e.getMinutes())+e.getSeconds()},w=Math.max(0,12*(u.getFullYear()-p.getFullYear())+u.getMonth()-p.getMonth()+(u.getDate()<p.getDate()&&!m||m&&g(u)<g(p)?-1:0));c[t]=l[t]?Math.floor(w/12):0,c[i]=l[i]?w-12*c[t]:0,p=new Date(p.getTime());var f=p.getDate()==d,D=this._getDaysInMonth(p.getFullYear()+c[t],p.getMonth()+c[i]);p.getDate()>D&&p.setDate(D),p.setFullYear(p.getFullYear()+c[t]),p.setMonth(p.getMonth()+c[i]),f&&p.setDate(D)}var y=Math.floor((u.getTime()-p.getTime())/1e3),v=function(e,t){c[e]=l[e]?Math.floor(y/t):0,y-=c[e]*t};if(v(s,604800),v(n,86400),v(o,3600),v(a,60),v(r,1),y>0&&!e._since)for(var T=[1,12,4.3482,7,24,60,60],M=r,C=1,b=r;b>=t;b--)l[b]&&(c[M]>=C&&(c[M]=0,y=1),y>0&&(c[b]++,y=0,M=b,C=1)),C*=T[b];if(_)for(var b=t;r>=b;b++)_&&c[b]?_--:_||(c[b]=0);return c}})}(jQuery);